@namespace ChatGpt.Shared

@inject ChatGptJsInterop ChatGptJsInterop

<div id="content">
    @if (Messages != null)
    {
        <MList>
            @foreach (var item in Messages)
            {

                <MListItem>
                    <MListItemAvatar>
                        @if (item.ChatGpt)
                        {
                            <MImage Src="https://blog-simple.oss-cn-shenzhen.aliyuncs.com/chatgpt.ico" Alt="Jack"></MImage>
                        }
                        else
                        {
                            <MImage Src="@(string.IsNullOrEmpty(ChatGptOptions?.Avatar) ? "https://blog-simple.oss-cn-shenzhen.aliyuncs.com/Avatar.jpg" : ChatGptOptions.Avatar)" Alt="Jack"></MImage>
                        }
                    </MListItemAvatar>
                    <MListItemContent>
                        <div class="grey lighten-3 rounded-lg mono-font">
                            <MMarkdownIt Class="markdown-parser__basic"
                                 Style="margin: 1em; min-height: 5px; line-height:1.5em;"
                                 Source="@item.Content" />
                        </div>
                    </MListItemContent>
                </MListItem>
            }
        </MList>
    }
</div>

<style>
    .mono-font {
        font-family: Consolas,Monaco,Lucida Console,Liberation Mono,DejaVu Sans Mono,Bitstream Vera Sans Mono,Courier New, monospace;
    }

    .m-navigation-drawer__content::-webkit-scrollbar {
        width: 0 !important;
    }

    .message {
        margin: 5px;
    }

    .m-sheet.m-card:not(.m-sheet--outlined) {
        box-shadow: none !important;
    }

    .markdown-parser__basic img {
        max-width: 100%;
    }

    .markdown-parser__basic blockquote {
        border-left: 4px lightgray solid;
        padding-left: 16px;
    }

    html {
        overflow-y: auto;
    }

    .container {
        position: relative;
        padding: 5px !important;
    }

    .top-button {
        position: absolute;
        top: 0;
        right: 0;
        margin: 5px;
    }
</style>